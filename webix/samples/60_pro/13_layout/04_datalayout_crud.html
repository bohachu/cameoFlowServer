<!DOCTYPE html>
<html>
<head>
    <link charset="utf-8" href="../../../codebase/webix.css?v=7.0.1" rel="stylesheet" type="text/css">
    <script charset="utf-8" src="../../../codebase/webix.js?v=7.0.1" type="text/javascript"></script>
    <title>Data Layout - CRUD operations</title>
</head>
<body>
<div id='layout_div' style='width:800px; height:600px; margin:20px;'></div>
<div>
    <input onClick="addData();" type="button" value="Add data"/>
    <input onClick="updateLast();" type="button" value="Update Last"/>
    <input onClick="removeFirst();" type="button" value="Remove First"/>
</div>
<script charset="utf-8" type="text/javascript">

    function addData() {
        $$("data").add({
            "month": "April", "data": [{"income": 5894, "count": 4}, {"income": 1458, "count": 2}]
        });
    }

    function updateLast() {
        var last = $$("data").getItem($$("data").getLastId());
        if (last) {
            last.month = "Hello, December";
            $$("data").updateItem(last.id, last)
        }
    }

    function removeFirst() {
        var first = $$("data").getFirstId();
        if (first)
            $$("data").remove(first);
    }

    var left = {

        view: "datalayout",
        id: "data",
        type: "space",
        rows: [
            {name: "$value", type: "header", template: "#month# 2016"},
            {name: "data", view: "list", autoheight: true, template: "#income#, #count#"}
        ],
        url: "data/data.js?v=7.0.1"
    };

    webix.ui({
        container: "layout_div",
        view: "scrollview",
        body: left
    });

</script>
</body>
</html>
<!DOCTYPE html>
<html>
<head>
    <title>TreeTable state object</title>
    <link charset="utf-8" href="../../../../codebase/webix.css?v=7.0.1" rel="stylesheet" type="text/css">
    <script charset="utf-8" src="../../../../codebase/webix.js?v=7.0.1" type="text/javascript"></script>

    <link href="../../common/samples.css?v=7.0.1" rel="stylesheet" type="text/css">

</head>
<body>
<div class='header_comment'>TreeTable state object</div>
<div class='sample_comment'>Click "save state", collapse/expand and select items, click "restore state".</div>
<div id="testA"></div>
<input name="save_state" onclick="save_state(grida)" type="button" value="Save state"/>
<input name="restore_state" onclick="restore_state(grida)" type="button" value="Restore state"/>


<script charset="utf-8" type="text/javascript">

    var grida;
    webix.ready(function () {
        grida = webix.ui({
            container: "testA",
            view: "treetable",
            columns: [
                {id: "id", header: "", css: {"text-align": "right"}, width: 50},
                {
                    id: "value", header: "Title", width: 250,
                    template: "{common.treetable()} #value#"
                },
                {id: "chapter", header: "Mode", width: 200}
            ],
            select: "row",
            autoheight: true,
            autowidth: true,
            data: [
                {
                    "id": "1", "value": "The Shawshank Redemption", "open": true, "data": [
                        {"id": "1.1", "value": "Part 1", "chapter": "alpha"},
                        {
                            "id": "1.2", "value": "Part 2", "chapter": "beta", "open": true, "data": [
                                {"id": "1.2.1", "value": "Part 1", "chapter": "beta-twin"},
                                {"id": "1.2.2", "value": "Part 1", "chapter": "beta-twin"}
                            ]
                        },
                        {"id": "1.3", "value": "Part 3", "chapter": "gamma"}
                    ]
                },
                {
                    "id": "2", "value": "The Godfather", "data": [
                        {"id": "2.1", "value": "Part 1", "chapter": "alpha"},
                        {"id": "2.2", "value": "Part 2", "chapter": "beta"}
                    ]
                }
            ]
        });

    });

    function save_state(grid) {
        webix.storage.local.put("treetable_state", grid.getState());
    }

    function restore_state(grid) {
        var state = webix.storage.local.get("treetable_state");
        if (state)
            grid.setState(state);
    }

</script>

</body>
</html>
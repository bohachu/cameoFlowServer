<!DOCTYPE html>
<html>
<head>
    <title>Adding and deleting Nodes</title>
    <link charset="utf-8" href="../../../codebase/webix.css?v=7.0.1" rel="stylesheet" type="text/css">
    <script charset="utf-8" src="../../../codebase/webix.js?v=7.0.1" type="text/javascript"></script>
    <script charset="utf-8" src="../common/treedata.js?v=7.0.1" type="text/javascript"></script>
    <link href="../common/samples.css?v=7.0.1" rel="stylesheet" type="text/css">
</head>
<body>
<div class='header_comment'>Adding and deleting tree nodes</div>
<div id="testA" style='width:300px; height:300px;'></div>
<br>
<input onClick="addToTop()" type="button" value="Add to top"/>
<input onClick="addToParent()" type="button" value="Add to selected parent"/>
<br>
<input onClick="addAsChild()" type="button" value="Add as 2nd child of Shawshank Redemption"/>
<br>
<input onClick="removeSelected()" type="button" value="Remove selected node"/>

<script charset="utf-8" type="text/javascript">

    var tree = webix.ui({
        container: "testA",
        view: "tree",
        select: true,
        template: "{common.icon()} {common.folder()} <span>#value#</span>",
        data: webix.copy(smalltreedata)
    });

    function addToTop() {
        tree.add({value: "New item"}, 0);
    }

    function addToParent() {
        var parentId = tree.getSelectedId();
        if (parentId)
            tree.add({value: "New item"}, 0, parentId);
        else
            webix.alert("Select node")
    }

    function addAsChild() {
        tree.select("1");
        var parentId = tree.getSelectedId();
        var pos = tree.getBranchIndex("1.2"); //'1.2' is the 'Part2' item's id
        tree.add({value: "New item"}, pos, parentId);
    }

    function removeSelected() {
        var nodeId = tree.getSelectedId();
        tree.remove(nodeId);
    }


</script>
</body>
</html>
<!DOCTYPE html>
<html>
<head>
    <link charset="utf-8" href="../../codebase/webix.css?v=7.0.1" rel="stylesheet" type="text/css">
    <script charset="utf-8" src="../../codebase/webix.js?v=7.0.1" type="text/javascript"></script>

    <link charset="utf-8" href="https://cdn.materialdesignicons.com/2.7.94/css/materialdesignicons.css?v=7.0.1"
          rel="stylesheet" type="text/css">
    <script charset="utf-8" src="../common/testdata.js?v=7.0.1" type="text/javascript"></script>

    <title>Dynamic Layout Rebuilding</title>
    <style>
        #testA, #testB {
            width: 400px;
            height: 340px;
            margin: 20px;
            float: left;
        }
    </style>
</head>
<body>
<div style="margin:0px 20px;">
    <input onclick="rebuildForm()" type="button" value="Rebuild form" width="150"/>
    <input onclick="replaceGrid()" style="margin-left:340px;" type="button" value="Replace grid" width="150"/>
</div>
<div id="testA"></div>
<div id="testB"></div>
<script charset="utf-8" type="text/javascript">

    webix.ui({
        view: "form",
        id: 'myform',
        container: "testA",
        elements: [
            {view: "text", placeholder: "First Name"},
            {view: "text", placeholder: "Last Name"},
            {
                cols: [
                    {view: "button", value: "Cancel"},
                    {view: "button", value: "Sumbit", css: "webix_primary"}
                ]
            }
        ]
    });

    webix.ui({
        id: 'mylayout',
        container: "testB",
        rows: [
            {
                view: 'toolbar', elements: [
                    {},
                    {view: "icon", width: 40, icon: "mdi mdi-home"},
                    {view: "icon", width: 40, icon: "mdi mdi-undo"},
                    {view: "icon", width: 40, icon: "mdi mdi-redo"}
                ]
            },
            {
                view: 'datatable',
                id: 'mydatatable',
                scroll: false,
                autoheight: true,
                columns: [
                    {id: "rank", header: "", width: 40},
                    {id: "title", header: "title", fillspace: true},
                    {id: "year", header: "Year", width: 100},
                    {id: "votes", header: "Votes", width: 100}
                ],
                data: small_film_set
            }
        ]
    });

    function rebuildForm() {
        webix.ui([
            {view: "datepicker", label: "Date"},
            {view: "colorpicker", label: "Color"},
            {view: "slider"}
        ], $$('myform'));
    }

    function replaceGrid() {
        webix.ui({
            view: "dataview",
            template: "<b>#title#</b><br>#year#",
            xCount: 2,
            type: {
                height: 83,
                width: 200
            },
            data: small_film_set
        }, $$('mylayout'), $$('mydatatable'));
    }

</script>
</body>
</html>
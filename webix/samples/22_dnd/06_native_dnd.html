<!DOCTYPE html>
<html>
<head>
    <title>HTML5 Drag-and-Drop handling</title>
    <link charset="utf-8" href="../../codebase/webix.css?v=7.0.1" rel="stylesheet" type="text/css">
    <script charset="utf-8" src="../../codebase/webix.js?v=7.0.1" type="text/javascript"></script>

    <link href="../common/samples.css?v=7.0.1" rel="stylesheet" type="text/css">
    <script charset="utf-8" src="../common/testdata.js?v=7.0.1" type="text/javascript"></script>
</head>
<body class='webix_full_screen'>
<div class='sample_comment'>Drag one of Marked divs into the Webix view</div>
<div id="testA" style='width:500px;'></div>

<div style='padding:20px;'>
    <div draggable="true" id="divA" ondragstart="drag(event)" style='float:left; padding:20px; background-color:#dff;'>
        A
    </div>
    <div draggable="true" id="divB" ondragstart="drag(event)" style='float:left; padding:20px; background-color:#fdf;'>
        B
    </div>
    <div draggable="true" id="divC" ondragstart="drag(event)" style='float:left; padding:20px; background-color:#ffd;'>
        C
    </div>
</div>
<script charset="utf-8" type="text/javascript">
    function drag(ev) {
        // the attribute must be called "text" in IE
        ev.dataTransfer.setData("text", ev.target.innerHTML);
    }


    webix.ready(function () {
        var grid = {
            view: "datatable", id: "mygrid",
            container: "testA",
            columns: [
                {id: "rank", header: "#", width: 50},
                {id: "title", header: "Film title", width: 200, fillspace: true},
                {id: "votes", header: "Votes", width: 100},
                {id: "year", header: "Released", width: 80}

            ],
            select: "multiselect",
            drag: true, scrollX: false,

            autoheight: true,
            data: small_film_set
        };

        var mygrid = webix.ui(grid);
        webix.event(mygrid.$view, "dragover", function (e) {
            e.preventDefault();
        });
        webix.event(mygrid.$view, "drop", function (e) {
            var grid = $$(e);
            var id = grid.locate(e);
            grid.getItem(id).title = e.dataTransfer.getData("text");
            grid.refresh(id);
        });
    });


</script>
</body>
</html>